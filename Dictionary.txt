ADD NEW FIELDS
===============


ALTER TABLE `info_users` ADD `check_out` INT DEFAULT 0;
ALTER TABLE `info_cases` ADD `judge4_id` INT DEFAULT 0;
ALTER TABLE `info_cases` ADD `topic_ids` VARCHAR(255) DEFAULT '';
UPDATE `info_cases` set topic_ids=CONCAT('[',topic_id,']');
ALTER TABLE `info_cases` ADD `form1_note` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `form2_note` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `form3_note` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `form4_note` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `form5_note` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `judge_checkout1_id` INT DEFAULT 0;
ALTER TABLE `info_cases` ADD `judge_checkout2_id` INT DEFAULT 0;
ALTER TABLE `info_cases` ADD `date_at_received1` DATE;
ALTER TABLE `info_cases` ADD `date_at_received2` DATE;


ALTER TABLE `info_users` ADD `no_case_sent` INT DEFAULT 0;

ALTER TABLE `info_at` ADD `checked` INT DEFAULT 0;

ALTER TABLE `info_at` ADD `copyied` INT DEFAULT 0;
ALTER TABLE `info_at` ADD `regulared` INT DEFAULT 0;

ALTER TABLE `info_cases` ADD `at_correct` INt NULL DEFAULT 1;
ALTER TABLE `info_cases` ADD `at_result_id` INT NULL DEFAULT 0;
ALTER TABLE `info_cases` ADD `capital` DECIMAL(10,2) NULL DEFAULT 0;


ALTER TABLE `info_cases` ADD `date_sent_a` DATE;
ALTER TABLE `info_cases` ADD `number_sent_a`  TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `note1_a` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
  ALTER TABLE `info_cases` ADD `auto_received_num2` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';

ALTER TABLE `info_cases` ADD `judge_id_a` INT NULL DEFAULT 0;
ALTER TABLE `info_cases` ADD `date_received3_a` DATE;
ALTER TABLE `info_cases` ADD `judge2_id_a` INT NULL DEFAULT 0;
ALTER TABLE `info_cases` ADD `date_at_received1_a` DATE;
ALTER TABLE `info_cases` ADD `judge4_id_a` INT NULL DEFAULT 0;
ALTER TABLE `info_cases` ADD `date_at_received2_a` DATE;

ALTER TABLE `info_cases` ADD `judge_checkout1_id_a` INT NULL DEFAULT 0;
ALTER TABLE `info_cases` ADD `judge_checkout2_id_a` INT NULL DEFAULT 0;
ALTER TABLE `info_cases` ADD `date_sent5_a` DATE;
ALTER TABLE `info_cases` ADD `form4_note_a` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `number_sent5_a` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `number_received3_a` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '';


ALTER TABLE `info_cases` ADD `accept_nsent` INT NULL DEFAULT 0;


--field types:
--NUMBER()
--TEXT()
--DATE()
--DATETIME()
--TIMESTAMP()
--BOOLEAN()
--PK()
--FK()


	
]


[CASES]
id=PK()
user_id=FK(USERS); ศาล
type_id	=FK(TYPES); ประเภทคดี      ***********ข้อมูลหาย
number_sent=เลขที่หนังสือส่ง
date_sent=วันที่ส่ง
date_case=วันที่รับฟ้อง	
number_black=เลคคดีดำ
number_red=เลขคดีแดง
plaintiff=โจทก์	
defendant=จำเลย
*topic_id=FK(TOPICS); ข้อหาหลัก     -> ข้อหาสถิติ   ***********  ไม่ใช้แล้ว
topic_ids= ข้อหาสถิติ  (Multiple)
title=ข้อหารอง  -> ข้อหาพิมพ์ปก
note1=หมายเหตุ

--1.จัดส่งรายงนคดีเพื่อพิจารณา
date_ap=วันที่นัดฟังคำพิพากษา
date_sent2=วันทีส่งสำนวน
number_sent2=เลขที่ส่งสำนวน
note2=หมายเหตุ
judge_id=FK(USERS); ผู้พิพากษาเจ้าของสำนวน
judge3_id=FK(USERS); องค์คณะ   (********เดิมข้อมูลทับกัน***********ภาค  ผู้พิพากษาผู้ตรวจ 2)
imprison_id=FK(IMPRISONS); จำเลขต้องขัง
accept_id=FK(ACCEPS); จำเลยสารภาพ

--4. ส่งสำเนาคำพิพากษา
date_sent3=วันที่ส่งสำเนาคำพิพากษา
number_sent3=เลขที่ส่งคำพิพากษา	
date_read=วันที่อ่านคำพิพากษา	
note3=หมายเหตุ

--5. upload คำพิพากษา
file1=สำเนาตรวจร่าง
file2=สำเนาคำพิพากษา
date_upload=วันที่uploadล่าสุด (system)


accept_nsent จำเลยรับสารภาพ ไม่ต้องส่งสำนวน

--1. ภาครับรายงานคดี
command_id=PK(AT); คำสั่ง อธ.
result=FK(RESULT); ผลการปฏิบัติ
date_received=วันที่ภาครับหนังสือ
number_received	=เลขที่ภาครับหนังสือ
date_sent4=วันที่ภาคส่งหนังสือ	
number_sent4=เลขที่หนังสือแจ้งรายงานคดี	

--3. ภาคร่วมนั่งพิจารณา
date_received2=วันที่ภาครับสำนวน
number_received2=(เลขที่รับของภาค) เลขที่รับหนังสือสำนวนของภาค
judge2_id=FK(USERS); ผู้พิพากษาผู้ตรวจ
judge4_id=FK(USERS); ผู้พิพากษาผู้ตรวจ 2 (ภาค) +


--4. ภาครับสำนวน	
date_received3=วันที่ภาครับสำนวนคำพิพากษา
number_received3=เลขที่รับของภาค	
date_sent5=วันที่ภาคส่งสำนวนกลับ
number_sent5=(เลขที่ส่งของภาค) เลขที่ส่งสำนวนกลับของภาค

--5. ภาครับสำเนาคำพิพากษา
number_received4=เลขที่รับของภาค	
date_received4	=วันที่ภาครับร่างคำพิพากษาที่ตรวจแล้วเสร็จ


date_modified=วันที่แก้ไขข้อมูลล่าสุด (system)
date_finish=(***** ไม่ได้ใช้)

--new form1 admin
form1_note=หมายเหตุ

--new form2 admin
form2_note=หมายเหตุ

--new form3 admin
date_at_received1=วันที่ อธ. จ่ายสำนวน/หน.ภาค รับสำนวน
date_at_received2=วันที่ รอง อธ. รับสำนวน
form3_note=หมายเหตุ

--new form4 admin
judge_checkout1_id=ผู้ตรวจ 1 สั่งออก
judge_checkout2_id=สั่งออกแทน
form4_note=หมายเหตุ

--new form5 admin
form5_note=หมายเหตุ


	
	
--2. ส่งรายงานกระบวนการพิจารณา	
[APPOINTMENTS]
id=PK()
case_id=FK(CASES); 
name=ประเภทการนัดพิจารณา
date_sent=วันที่ส่งรายงานกระบวนฯ
number_sent=เลขที่ส่งรายงานกระบวนฯ
mouth_number=จำนวนปาก
ordering=ลำดับที่
date_app=วันที่นัด

--2. ภาครับรายงานกระบวนการพิจารณา
date_received=วันที่ภาครับ
number_received=เลขที่ภาครับ



--3. นัดร่วมนั่งพิจารณา
[APPOINTMENTS2]
id=PK()
case_id=FK(CASES); 
name=ประเภทการนัดพิจารณา
date_sent=วันที่ส่งรายงานกระบวนฯ
number_sent=เลขที่ส่งรายงานกระบวนฯ
ordering=ลำดับที่
date_app=วันที่นัด
date_ap_time=เวลาที่นัด

date_received=(***** ไม่ได้ใช้)
number_received=(***** ไม่ได้ใช้)


[ACCEPS]
id=PK();
name=จำเลยสารภาพ

[AT]
id=PK();
name=คำสั่ง อธ.
checked=1 ตรวจ
copyied=1 ส่งสำนวน
regulared=1 ตามระเบียบ



[GROUPS]
id=PK();
name=ประเภทความ

[IMPRISONS]
id=PK();
name=จำเลขต้องขัง


[RESULT]
id=PK();
name=ผลการปฏิบัติ

[TOPICS]
id=PK();
name=ข้อหาหลัก

[TYPES]
id=PK();
name=ประเภทคดี

[USERGROUPS]
id=PK();
name=กลุ่มศาล

[USERS]
id=PK();
account=ชื่อสำหรับ login
password=รหัสผ่าน
usergroup_id=FK(USERGROUPS); กลุ่มศาล	
name=ชื่อ (ศาล, ผู้พิพากษา)
admin=1 เป็น admin
position=ตำแหน่ง
parent_id=FK(USERS); ศาล
active=1 สามารถเข้าใช้งานได้
check_out= 1 ย้ายออกแล้ว


******************



---RUN SQL เพิ่มฟิลด์ & table
------------------------


ALTER TABLE `info_cases` ADD `return_checked` int(11) NOT NULL DEFAULT '0';
ALTER TABLE `info_cases` ADD `return2_checked` int(11) NOT NULL DEFAULT '0';
ALTER TABLE `info_cases` ADD `link_checked` int(11) NOT NULL DEFAULT '0';
ALTER TABLE `info_cases` ADD `link_ids` text CHARACTER SET utf8 NULL DEFAULT '';
ALTER TABLE `info_cases` ADD `add_checked` int(11) NOT NULL DEFAULT '0';
ALTER TABLE `info_cases` ADD `add_ids` text CHARACTER SET utf8 NOT NULL;

CREATE TABLE IF NOT EXISTS `info_return_cases` (
  `id` int(11) NOT NULL,
  `case_id` int(11) NOT NULL,
  `number_return` text CHARACTER SET utf8,
  `date_return` date DEFAULT NULL,
  `note_return` text CHARACTER SET utf8,
  `number_sent` text CHARACTER SET utf8,
  `date_sent` date DEFAULT NULL,
  `note_sent` text CHARACTER SET utf8,
  `number_received` text CHARACTER SET utf8,
  `date_received` date DEFAULT NULL,
  `note_received` text CHARACTER SET utf8
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

ALTER TABLE `info_return_cases` ADD PRIMARY KEY (`id`);
ALTER TABLE `info_return_cases` MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;





